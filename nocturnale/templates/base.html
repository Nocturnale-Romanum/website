{% load static wagtailcore_tags wagtailuserbar %}

<!DOCTYPE html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8" />
        <title>
		Nocturnale Romanum project
        </title>
        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

	{# Favicons #}

        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'apple-touch-icon.png' %}">
        <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon-32x32.png' %}">
        <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon-16x16.png' %}">
        <link rel="manifest" href="{% static 'site.webmanifest' %}">
        <link rel="mask-icon" href="{% static 'safari-pinned-tab.svg' %}" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">

        {# Global stylesheets #}
        <link rel="stylesheet" type="text/css" href="{% static 'css/nocturnale.css' %}">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <style>
          .btn-outline-primary { background-color: rgba(255,255,255,0.6) !important ;}
          .btn-outline-primary:hover { background-color: #0d6efd !important ;}
        </style>

        {% block extra_css %}
            {# Override this in templates to add extra stylesheets #}
        {% endblock %}
    </head>

    <body class="{% block body_class %}{% endblock %}">

      <div class="container">
        <header
		class="d-flex flex-wrap align-items-end justify-content-center justify-content-md-between py-3 mb-4 border-bottom"
		style="background-image: url({% static 'banner.png' %}); background-repeat: no-repeat;"
	>
        <div class="container">
        <div class="row">
          <div class="col" style="height: 8VH;">
          </div>
        </div>
        <div class="row">
          <div class="col-8 text-start">
            <a href="/contents/"><button type="button" class="btn btn-outline-primary me-2">Contents</button></a>
            <a href="/news/"><button type="button" class="btn btn-outline-primary me-2">News</button></a>
            <div class="btn-group">
            <button id="contribDropdown" type="button" class="btn btn-outline-primary me-2 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Contribute</button>
            <div class="dropdown-menu" aria-labelledby="contribDropdown">
              <a class="dropdown-item" href="/contribute/">How to contribute</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/transpose/">Transposition tool</a>
              <a class="dropdown-item" href="/versify/">Responsory verse tool</a>
              <a class="dropdown-item" href="/removenabcheights/">NABC height removal tool</a>
              <a class="dropdown-item" href="/removersigns/">Rhythmic signs removal tool</a>
            </div>
            </div>
            <a href="/"><button type="button" class="btn btn-outline-primary me-2">About</button></a>
            <a href="/choices/"><button type="button" class="btn btn-outline-primary me-2">Editorial choices</button></a>
            <a href="/book/"><button type="button" class="btn btn-outline-primary me-2">Get the book</button></a>
          </div>
    
          <div class="col text-end">
	{% if request.user.is_authenticated %}
            <b>{{ request.user.username }}</b>
	    {% if user_notifications > 0 %}
		<a href="/notifications/"><button type="button" class="btn btn-outline-danger">
		  &#128276; {{ user_notifications }}
		</button></a>
            {% else %}
		<a href="/notifications/"><button type="button" class="btn btn-outline-primary">
		  &#128276;
		</button></a>
            {% endif %}
            <a href="/logout/">
              <button type="button" class="btn btn-outline-primary me-2">Logout</button>
            </a>
	{% else %}
            <a href="/login/?next={{ request.path }}">
              <button type="button" class="btn btn-outline-primary me-2">Login</button>
            </a>
            <a href="/signup/">
              <button type="button" class="btn btn-primary me-2">Sign-up</button>
            </a>
	{% endif %}
          </div>
        </div>
        </div>
        </header>
      </div>

	<div class="container"><div class="row"><div class="col-md-8 offset-md-2">
        {% block content %}{% endblock %}
	</div></div></div>

        {# Global javascript #}
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script type="text/javascript" src="{% static 'js/nocturnale.js' %}"></script>


        {% block extra_js %}
            {# Override this in templates to add extra javascript #}
        {% endblock %}

    </body>
</html>
